generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
}

model Activity {
    id             String @id @default(auto()) @map("_id") @db.ObjectId
    entityNumber   String @map("EntityNumber")
    activityGroup  String @map("ActivityGroup")
    naceVersion    String @map("NaceVersion")
    naceCode       String @map("NaceCode")
    description    String @map("Description")
    classification String @map("Classification")

    enterprise Enterprise? @relation(fields: [entityNumber], references: [enterpriseNumber])
}

model Address {
    id               String  @id @default(auto()) @map("_id") @db.ObjectId
    entityNumber     String  @map("EntityNumber")
    typeOfAddress    String  @map("TypeOfAddress")
    zipcode          String  @map("Zipcode")
    municipalityFR   String  @map("MunicipalityFR")
    streetFR         String  @map("StreetFR")
    houseNumber      String  @map("HouseNumber")
    extraAddressInfo String? @map("ExtraAddressInfo")

    enterprise Enterprise? @relation(fields: [entityNumber], references: [enterpriseNumber])
}

model Branch {
    id               String   @id @default(auto()) @map("_id") @db.ObjectId
    startDate        DateTime @map("StartDate")
    enterpriseNumber String   @map("EnterpriseNumber")

    enterprise Enterprise @relation(fields: [enterpriseNumber], references: [enterpriseNumber])
}

model Contact {
    id            String @id @default(auto()) @map("_id") @db.ObjectId
    entityNumber  String @map("EntityNumber")
    entityContact String @map("EntityContact")
    contactType   String @map("ContactType")
    value         String @map("Value")

    enterprise Enterprise? @relation(fields: [entityNumber], references: [enterpriseNumber])
}

model Denomination {
    id                 String @id @default(auto()) @map("_id") @db.ObjectId
    entityNumber       String @map("EntityNumber")
    typeOfDenomination String @map("TypeOfDenomination")
    denomination       String @map("Denomination")

    enterprise Enterprise? @relation(fields: [entityNumber], references: [enterpriseNumber])
}

model Enterprise {
    id                 String   @id @default(auto()) @map("_id") @db.ObjectId
    enterpriseNumber   String   @unique @map("EnterpriseNumber")
    status             String   @map("Status")
    juridicalSituation String   @map("JuridicalSituation")
    typeOfEnterprise   String   @map("TypeOfEnterprise")
    juridicalForm      String   @map("JuridicalForm")
    startDate          DateTime @map("StartDate")

    activities     Activity[]
    addresses      Address[]
    branches       Branch[]
    contacts       Contact[]
    denominations  Denomination[]
    establishments Establishment[]
}

model Establishment {
    id                  String   @id @default(auto()) @map("_id") @db.ObjectId
    establishmentNumber String   @map("EstablishmentNumber")
    startDate           DateTime @map("StartDate")
    enterpriseNumber    String   @map("EnterpriseNumber")

    enterprise Enterprise @relation(fields: [enterpriseNumber], references: [enterpriseNumber])
}
